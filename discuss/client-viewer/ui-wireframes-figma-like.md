# Client Viewer（选片端）Figma-like UI 方案（线框图）

## DESIGN SPECIFICATION

1. **Purpose Statement**：客户在 PC/平板上通过“受控链接（token）”浏览约 500 张带水印预览图，快速完成“喜欢/入册/精修”三类标注，并在套餐约束下提交结果。界面需要像 Figma 一样高信息密度、强快捷键与清晰状态反馈，同时保证访问受控（到期/撤销）与不暴露原图。
2. **Aesthetic Direction**：Industrial/utilitarian
3. **Color Palette**：
   - Ink Black `#0B0F14`（主背景/沉浸）
   - Slate `#151C25`（面板底/分割区）
   - Graphite `#2A3442`（描边/分隔线）
   - Paper `#E9EEF5`（主文字/高对比）
   - Signal Amber `#FFB020`（计数/超额/关键提示）
4. **Typography**：
   - UI：`IBM Plex Sans`
   - 数字/快捷键提示：`IBM Plex Mono`
5. **Layout Strategy**：“工具面板 + 画布”非对称三栏结构，中央画布尽量占宽；右侧属性面板采用分段折叠与悬浮计数胶囊（不居中卡片），底部加入可收起的“缩略图胶片条”作为时间轴式导航。

---

## 已确认的产品约束（本方案默认）

- **设备**：主要 PC（键盘鼠标），兼容平板。
- **规模**：单项目约 500 张，必须支持虚拟列表（预留后续扩展到更大规模）。
- **标注**：仅 “喜欢/入册/精修” 三类（星级/颜色标签/评论/圈选区域先搁置）。
- **对比**：暂时仅两张并排（多张 2/3/4、同步缩放/同步平移先搁置）。
- **交付约束**：强制水印预览、禁止原图下载、token 支持到期与撤销。
- **操作闭环**：**允许撤回回到草稿并再次提交**（可多次提交，受业务规则约束）。

---

## 方案 A：画布 + 资产面板（更像 Figma）

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 顶栏：项目名/有效期  | 搜索 | 视图: 网格 ▾ 单张 ▾ 对比 ▾ | 计数胶囊  喜/册/精  │
│       状态：草稿/已提交  | [提交] [撤回→草稿] | 帮助(?) 快捷键               │
├───────────────┬───────────────────────────────────────────┬────────────────┤
│ 左侧：资产面板  │                 画布 / 主区               │ 右侧：属性面板  │
│ - 分组(相册)    │  网格视图：虚拟瀑布流 / 分块懒加载         │ - 当前照片信息  │
│ - 筛选：未标注/  │  单张视图：大图+水印+缩放/平移            │ - 标注三态切换  │
│   喜/册/精      │  对比视图：左右两张并排（同步缩放/平移搁置）│ - 套餐规则/超额 │
│ - 排序：时间/   │                                           │ - 提交说明/风险 │
│   相似度(可后置)│                                           │ - 到期/撤销提示 │
├───────────────┴───────────────────────────────────────────┴────────────────┤
│ 底部：可收起胶片条(虚拟横向列表)  [上一张][下一张]  标注快捷键提示            │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 适用场景

- 需要更强的“工作台感”：筛选/批量浏览/属性面板的信息密度更高。
- 未来要扩展更多“类 Figma”的能力时（例如评论、标签、标注区域）迁移成本更低。

---

## 方案 B：三段式（缩略图为主的选片工作流）

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 顶栏：项目名 | token 状态(剩余时间/已撤销) | 计数 喜/册/精 | [提交] [撤回→草稿] │
├───────────────────────────────┬──────────────────────────────────────────────┤
│ 左侧：缩略图瀑布流(虚拟列表)    │ 右侧：主预览区                              │
│ - 分组切换 Tabs/Tree            │  ┌──────────────────────────────────────┐   │
│ - 筛选 Chips                     │  │ 大图预览(水印)                         │   │
│ - 每张缩略图角标：喜/册/精状态   │  └──────────────────────────────────────┘   │
│ - 键盘上下/滚轮定位              │  下方：对比栏(两张) / 最近标注历史(可后置)  │
├───────────────────────────────┴──────────────────────────────────────────────┤
│ 状态栏：网络/加载进度 | 当前选中索引 123/500 | 快捷键：1喜欢 2入册 3精修 空格切换 │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 适用场景

- 更贴近“快速选片”：缩略图优先，学习成本更低，标注效率高。
- 对属性面板信息密度要求较低，重点在浏览与标注闭环。

---

## 两方案共用的交互关键点（建议）

- **虚拟列表**：左侧瀑布流/底部胶片条都按虚拟化实现，避免 500 张以上卡顿。
- **快捷键**：
  - `1` 喜欢、`2` 入册、`3` 精修
  - `←/→` 上一张/下一张（或 `J/K` 备选）
  - `Esc` 退出对比/退出沉浸
- **提交/撤回**：
  - 提交后进入“已提交”态，但仍允许点击“撤回→草稿”，撤回后可继续修改并再次提交。
  - token 过期/撤销时：统一进入不可操作态（仅提示/引导联系摄影师），避免误导用户可以继续标注。
