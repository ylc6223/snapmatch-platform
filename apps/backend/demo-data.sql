-- ========================================
-- 演示数据：客户、套餐、项目（优化版）
-- ========================================
-- 设计说明：
-- 1. 客户名称直接包含地区名，方便搜索测试
-- 2. 项目名称直接包含关键词，方便搜索测试
-- 3. 涵盖多种状态和场景，便于全面测试
-- ========================================

-- ========================================
-- 1. 插入套餐数据 (packages)
-- ========================================
INSERT INTO packages (_id, name, description, includedRetouchCount, includedAlbumCount, includeAllOriginals, price, extraRetouchPrice, extraAlbumPrice, isActive, sort, createdAt, updatedAt) VALUES
-- 基础套餐
('pkg001basic套餐00000000000001', '基础套餐', '适合小型聚会和活动', 10, 20, 0, 298000, 5000, 3000, 1, 1, 1736006400000, 1736006400000),
('pkg002standard0000000000002', '标准套餐', '适合婚礼和商务拍摄', 30, 50, 0, 598000, 4000, 2500, 1, 2, 1736006400000, 1736006400000),
('pkg003premium0000000000003', '豪华套餐', '包含所有精修和底片', 100, 200, 1, 1298000, 3000, 2000, 1, 3, 1736006400000, 1736006400000),

-- 地区特色套餐
('pkg100guangxi0000000000001', '广西山水套餐', '桂林山水风光摄影套餐', 50, 80, 0, 898000, 4000, 2500, 1, 10, 1736006400000, 1736006400000),
('pkg200beijing000000000002', '北京古建套餐', '故宫、长城古建筑摄影', 40, 60, 0, 798000, 4500, 3000, 1, 11, 1736006400000, 1736006400000),
('pkg300shanghai000000000003', '上海都市套餐', '外滩、陆家嘴都市夜景', 35, 50, 0, 698000, 4000, 2500, 1, 12, 1736006400000, 1736006400000),

-- 特殊主题套餐
('pkg400wedding0000000000004', '婚礼跟拍套餐', '全天婚礼跟拍服务', 80, 150, 1, 1598000, 3000, 2000, 1, 20, 1736006400000, 1736006400000),
('pkg500portrait000000000005', '个人写真套餐', '个人形象照拍摄', 20, 30, 0, 398000, 5000, 3000, 1, 21, 1736006400000, 1736006400000),
('pkg600family00000000000006', '家庭合影套餐', '全家福拍摄', 25, 40, 0, 498000, 4500, 2500, 1, 22, 1736006400000, 1736006400000);

-- ========================================
-- 2. 插入客户数据 (customers) - 名称直接包含地区
-- ========================================
INSERT INTO customers (_id, name, phone, wechatOpenId, email, tags, createdAt, updatedAt) VALUES
-- 广西客户
('cus100zhangwei000000000001', '广西张伟', '13800138001', NULL, 'zhangwei@example.com', '["VIP", "广西"]', 1736006400000, 1736006400000),
('cus101lihua00000000000002', '广西李华', '13900139002', NULL, 'lihua@example.com', '["广西"]', 1736092800000, 1736092800000),
('cus102wangming000000000003', '广西王明', '13700137003', NULL, 'wangming@example.com', '["企业", "广西"]', 1736179200000, 1736179200000),

-- 北京客户
('cus200chenfang000000000004', '北京陈芳', '13600136004', NULL, 'chenfang@example.com', '["北京"]', 1736265600000, 1736265600000),
('cus201liqiang000000000005', '北京李强', '13500135005', NULL, 'liqiang@example.com', '["北京", "婚礼"]', 1736352000000, 1736352000000),

-- 上海客户
('cus300zhoumin000000000006', '上海周敏', '13400134006', NULL, 'zhoumin@example.com', '["上海"]', 1736438400000, 1736438400000),
('cus301wuhao00000000000007', '上海吴浩', '13300133007', NULL, 'wuhao@example.com', '["VIP", "上海", "回头客"]', 1736524800000, 1736524800000),

-- 广东客户
('cus400zhanglei000000000008', '广东张磊', '13200132008', NULL, 'zhanglei@example.com', '["广东"]', 1736611200000, 1736611200000),
('cus401liyan00000000000009', '广东李燕', '13100131009', NULL, 'liyan@example.com', '["企业", "广东"]', 1736697600000, 1736697600000),

-- 其他地区客户
('cus500wangjie0000000000010', '浙江王杰', '13000130010', NULL, 'wangjie@example.com', '["浙江"]', 1736784000000, 1736784000000),
('cus501chenxi00000000000011', '江苏陈曦', '18900189011', NULL, 'chenxi@example.com', '["江苏"]', 1736870400000, 1736870400000);

-- ========================================
-- 3. 插入项目数据 (projects) - 名称直接包含关键词
-- ========================================
INSERT INTO projects (_id, name, description, customerId, packageId, shootDate, token, expiresAt, status, allowDownloadOriginal, watermarkEnabled, selectionDeadline, photoCount, createdAt, updatedAt) VALUES
-- 广西项目
('prj100guilinlandscape00001', '广西桂林山水摄影项目', '桂林漓江风光拍摄', 'cus100zhangwei000000000001', 'pkg100guangxi0000000000001', 1735680000000, 'token_guilin_1234567890abcdef', 1767548800000, 'selecting', 0, 1, 1736784000000, 256, 1736006400000, 1736006400000),
('prj101nanningwedding00002', '广西南宁婚礼跟拍', '张先生婚礼全天跟拍', 'cus101lihua00000000000002', 'pkg400wedding0000000000004', 1735200000000, 'token_nanning_wedding_xxx', 1767379200000, 'pending', 0, 1, 1736870400000, 512, 1736092800000, 1736092800000),
('prj102liuzhoubusiness00003', '广西柳州企业活动拍摄', '企业年会活动拍摄', 'cus102wangming000000000003', 'pkg002standard0000000000002', 1734940800000, 'token_liuzhou_business_abc', NULL, 'delivered', 1, 0, 1735958400000, 128, 1736179200000, 1736179200000),

-- 北京项目
('prj200beijingforbidden00004', '北京故宫古建摄影项目', '故宫建筑群拍摄', 'cus200chenfang000000000004', 'pkg200beijing000000000002', 1735113600000, 'token_forbidden_city_xyz', 1767292800000, 'selecting', 0, 1, 1736697600000, 198, 1736265600000, 1736265600000),
('prj201beijingwedding000005', '北京婚礼跟拍项目', '李强先生婚礼拍摄', 'cus201liqiang000000000005', 'pkg400wedding0000000000004', 1735680000000, 'token_beijing_wedding_123', 1767548800000, 'submitted', 0, 1, 1736956800000, 768, 1736352000000, 1736352000000),

-- 上海项目
('prj300shanghainight00006', '上海夜景摄影项目', '外滩夜景拍摄项目', 'cus300zhoumin000000000006', 'pkg300shanghai000000000003', 1735536000000, 'token_shanghai_night_abc', 1767724800000, 'selecting', 0, 1, 1737043200000, 156, 1736438400000, 1736438400000),
('prj301shanghaifamily00007', '上海家庭合影项目', '全家福拍摄项目', 'cus301wuhao00000000000007', 'pkg600family00000000000006', 1735286400000, 'token_shanghai_family_xyz', NULL, 'retouching', 0, 1, 1736352000000, 86, 1736524800000, 1736524800000),

-- 广东项目
('prj400guangzhoubusiness008', '广东广州企业活动拍摄', '公司年会拍摄', 'cus400zhanglei000000000008', 'pkg002standard0000000000002', 1735113600000, 'token_guangzhou_business', 1767206400000, 'pending_confirmation', 1, 0, 1736611200000, 324, 1736611200000, 1736611200000),
('prj401shenzhenportrait0009', '广东深圳个人写真拍摄', '个人形象照拍摄', 'cus401liyan00000000000009', 'pkg500portrait000000000005', 1735814400000, 'token_shenzhen_portrait', 1767811200000, 'selecting', 0, 1, 1737216000000, 65, 1736697600000, 1736697600000),

-- 其他地区项目
('prj500hangzhulandscape0010', '浙江杭州西湖摄影项目', '西湖风光拍摄项目', 'cus500wangjie0000000000010', 'pkg003premium0000000000003', 1735372800000, 'token_hangzhou_westlake', NULL, 'delivered', 1, 0, 1736438400000, 412, 1736784000000, 1736784000000),
('prj501nanjingfamily00011', '江苏南京家庭合影项目', '全家福拍摄', 'cus501chenxi00000000000011', 'pkg600family00000000000006', 1735459200000, 'token_nanjing_family_abc', 1767897600000, 'pending', 0, 1, 1736956800000, 95, 1736870400000, 1736870400000),

-- 特殊项目（用于测试各种状态）
('prj900demo00000000000012', '演示项目待选片项目', '用于演示待选片状态', 'cus100zhangwei000000000001', 'pkg001basic套餐00000000000001', 1735200000000, 'token_demo_pending', NULL, 'pending', 0, 1, NULL, 50, 1736006400000, 1736006400000),
('prj901demo00000000000013', '演示项目修图中项目', '用于演示修图状态', 'cus100zhangwei000000000001', 'pkg002standard0000000000002', 1735113600000, 'token_demo_retouching', NULL, 'retouching', 0, 1, NULL, 120, 1736006400000, 1736006400000),
('prj902demo00000000000014', '演示项目已取消项目', '用于演示取消状态', 'cus101lihua00000000000002', 'pkg001basic套餐00000000000001', 1735027200000, 'token_demo_cancelled', NULL, 'cancelled', 0, 1, NULL, 0, 1736006400000, 1736006400000);

-- ========================================
-- 搜索测试用例说明
-- ========================================
-- 执行完此 SQL 后，可以在管理后台搜索框测试以下关键词：
--
-- 1. 搜索"广西"：
--    - 匹配项目：广西桂林山水摄影项目、广西南宁婚礼跟拍、广西柳州企业活动拍摄
--    - 匹配客户：广西张伟、广西李华、广西王明
--    - 预期结果：3 个项目
--
-- 2. 搜索"北京"：
--    - 匹配项目：北京故宫古建摄影项目、北京婚礼跟拍项目
--    - 匹配客户：北京陈芳、北京李强
--    - 预期结果：2 个项目
--
-- 3. 搜索"上海"：
--    - 匹配项目：上海夜景摄影项目、上海家庭合影项目
--    - 匹配客户：上海周敏、上海吴浩
--    - 预期结果：2 个项目
--
-- 4. 搜索"广东"：
--    - 匹配项目：广东广州企业活动拍摄、广东深圳个人写真拍摄
--    - 匹配客户：广东张磊、广东李燕
--    - 预期结果：2 个项目
--
-- 5. 搜索"婚礼"：
--    - 匹配项目：广西南宁婚礼跟拍、北京婚礼跟拍项目
--    - 预期结果：2 个项目
--
-- 6. 搜索"企业"：
--    - 匹配项目：广西柳州企业活动拍摄、广东广州企业活动拍摄
--    - 预期结果：2 个项目
--
-- 7. 搜索"张伟"：
--    - 匹配客户：广西张伟
--    - 预期结果：4 个项目（该客户的多个项目）
--
-- 8. 搜索"摄影"：
--    - 匹配项目：广西桂林山水摄影项目、北京故宫古建摄影项目、上海夜景摄影项目等
--    - 预期结果：约 10 个项目
-- ========================================
